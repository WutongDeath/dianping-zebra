<div class="page-header">
	<h1>
		监控 <small> <i class="ace-icon fa fa-angle-double-right"></i>
			监控管理
		</small>
	</h1>
</div>
<div class="row">
    <div class="col-xs-12">
        <form class="form-horizontal" role="form">
    	 	<div class="form-group">
		        <label class="col-sm-3 control-label">选择监控机器</label>
		        <div class="col-sm-9">
			        <select class="col-xs-10 col-sm-5" ng-model="monitorServer" ng-options="server for server in servers"></select>
		        </div>
			</div>
			<div class="form-group">
			   	<label class="col-sm-3 control-label">JdbcRef</label>
		        <div class="col-sm-9">
		            <input required class="form-control input-sm" ng-model="jdbcRef" type="text" placeholder="支持添加单个或多个jdbcRef,多个以逗号分隔">
		        </div>
			</div>
			<div class="clearfix form-actions">
				<div class="col-md-offset-3 col-md-9">
				    <button ng-disabled="isDisabled" class="btn btn-info" type="button" ng-click="addJdbcRef()">
				    	<i class="ace-icon fa fa-check bigger-110"></i>添加
				    </button>
				    &nbsp;&nbsp;&nbsp;
				    <button ng-disabled="isDisabled" class="btn btn-info" type="button" ng-click="removeJdbcRef()">
						<i class="ace-icon fa fa-check bigger-110"></i>
						删除
					</button>
				</div>
			</div>
	    </form>
    </div>
</div>

<div class="row">
 <div class="col-xs-12">
 		<div class="table-header form-inline">监控状态
		        <input class="form-control input-sm pull-right" ng-model="searchText" type="text" placeholder="搜索">
	    </div>
        <table class="table table-striped table-condensed">
            <thead>
            <tr>
                <th>dsId</th>
                <th>上一次检测时间</th>
                <th>当前状态</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="statusItem in statusList | toArray | filter:{$key:searchText}">
                <td>{{statusItem.$key}}</td>
                <td>{{statusItem.lastUpdateTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-show="statusItem.status == 'INIT'"><span class="label label-info">{{statusItem.status}}</span></td>
                <td ng-show="statusItem.status == 'DEAD' || statusItem.status == 'MHA_MARK_DOWN'"><span class="label label-danger">{{statusItem.status}}</span></td>
                <td ng-show="statusItem.status == 'ALIVE'"><span class="label label-success">{{statusItem.status}}</span></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>