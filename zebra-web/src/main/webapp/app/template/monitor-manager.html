<div class="page-header">
	<h1>
		监控 <small> <i class="ace-icon fa fa-angle-double-right"></i>
			监控管理
		</small>
	</h1>
</div>
<div class="row">
	<div class="col-xs-12">
		<form class="form-horizontal" role="form">
			<div class="form-group">
				<label class="col-sm-3 control-label">选择监控机器</label>
				<div class="col-sm-9">
					<select class="col-xs-10 col-sm-5" ng-model="monitorServer"
						ng-options="server for server in servers"></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">JdbcRef</label>
				<div class="col-sm-9">
					<div isteven-multi-select input-model="jdbcRefsList"
						output-model="jdbcRefChosed" item-label="jdbcRef"
						button-label="jdbcRef" tick-property="ticked" max-height="200px">
					</div>
				</div>
			</div>

			<div class="clearfix form-actions">
				<div class="col-md-offset-4 col-md-9">
					<button ng-disabled="isDisabled" class="btn btn-info" type="button"
						ng-click="submitJdbcRef()">
						<i class="ace-icon fa fa-check bigger-110"></i>提交
					</button>
				</div>
			</div>
		</form>
	</div>
</div>

<div class="row">
	<div class="col-xs-12">
		<div class="table-header form-inline">监控状态</div>
		<table class="table table-striped table-condensed">
			<thead>
				<tr>
					<th>dsId</th>
					<th>上一次检测时间</th>
					<th>当前延迟</th>
					<th>当前状态</th>
				</tr>
			</thead>
			<tbody>
				<tr
					ng-repeat="statusItem in statusList | toArray | filter:{$key:searchText}">
					<td>{{statusItem.$key}}</td>
					<td>{{statusItem.lastUpdateTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
					<td>{{statusItem.delay}}</td>
					<td ng-show="statusItem.status == 'INIT'"><span
						class="label label-info">{{statusItem.status}}</span></td>
					<td
						ng-show="statusItem.status == 'DEAD' || statusItem.status == 'MHA_MARK_DOWN'"><span
						class="label label-danger">{{statusItem.status}}</span></td>
					<td ng-show="statusItem.status == 'ALIVE'"><span
						class="label label-success">{{statusItem.status}}</span></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>