<div class="page-header">
	<h1>
		分库分表
		<small>
			<i class="ace-icon fa fa-angle-double-right"></i>
			SQL Validate			
		</small>
	</h1>
</div>
<div class="row">
	<div class="col-xs-12">
    	 <form class="form-horizontal" role="form">
    	    <div class="form-group">
		        <label class="col-sm-3 control-label">选择数据库</label>
		        <div class="col-sm-9">
			        <select class="col-xs-10 col-sm-5" ng-model="db" ng-options="db for db in databases"></select>
		        </div>
			</div>
			<div class="form-group">
		        <label class="col-sm-3 control-label">选择表</label>
		        <div class="col-sm-9">
			        <select class="col-xs-10 col-sm-5" ng-model="table" ng-options="table for table in tables"></select>
		        </div>
			</div>
			
			<div class="clearfix form-actions">
				<div class="col-md-offset-3 col-md-9">
				    <button ng-disabled="isDisabled" class="btn btn-info" type="button" ng-click="analyze()">
				    	<i class="ace-icon fa fa-check bigger-110"></i>分析
				    </button>
				</div>
			</div>
	    </form>
    </div>
</div>
<div class="row">
	<div>
		<div class="table-header">基本信息</div>
	   	<table class="table table-striped table-bordered table-hover">
	   		<thead>
	   			<tr>
	   				<th>SQL Name</th>
	   				<th>SQL</th>
	   				<th>基本语法</th>
	   				<th>应用</th>
	   				<th>错误信息</th>
	   			</tr>
	   		</thead>
	   		<tbody>
	   			<tr ng-repeat="item in data | toArray">
	   				<td>
   						<div popover-trigger="mouseenter" popover="{{(item.sqlName && item.sqlName.length>20)?item.sqlName:''}}">
   							{{(item.sqlName && item.sqlName.length>20)?item.sqlName.substring(0,20-3) + '...':item.sqlName }}
   						</div>
                    </td>
                    <td>
   						<button type="button" class="popover-xlarge btn btn-default btn-xs" popover-trigger="mouseenter"
                           popover="{{item.sql}}">查看
                   		</button>
                    </td>
	   				<td>
	   					<i class="ace-icon bigger-130 " 
	   						ng-class="{'green': item.isSyntaxSupported,'glyphicon glyphicon-ok': item.isSyntaxSupported, 'red': !item.isSyntaxSupported,'fa fa-bolt' : !item.isSyntaxSupported}"></i>
	   				</td>
	   				<td>{{item.app}}</td>
	   				<td>
	   					<button type="button" class="popover-xlarge btn btn-default btn-xs" popover-trigger="mouseenter"
                            popover="{{item.errorMsg}}">查看
                    	</button>
                    </td>
	   			 </tr>
	   		</tbody>
	   	</table>
	</div>
</div>