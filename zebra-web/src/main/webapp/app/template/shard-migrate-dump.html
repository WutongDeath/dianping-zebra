<h4 class="blue">迁移数据进度 <a href="" ng-click="load()"><i class="ace-icon fa fa-refresh"></i></a></h4>
<div class="row">
    <div class="col-xs-12">
        <table id="simple-table" class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>目标库</th>
                    <th>目标表</th>
                    <th>条件</th>
                    <th>状态</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in dump">
                    <td>{{item.targetDataBase}}</td>
                    <td>{{item.targetTableName}}</td>
                    <td>{{item.shardRule}}</td>
                    <td>{{item.status}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<p></p>
<p></p>

<h4 class="blue">增加任务</h4>
<div class="row">
    <div class="col-xs-12">
        <form class="form-horizontal" role="form" _lpchecked="1">
            <div class="form-group">
                <div class="col-sm-1">
                    <button ng-click="addNewTarget()" class="btn btn-sm btn-info">
                        增加目标
                    </button>
                </div>
                <div class="col-sm-3">
                    <label class="control-label no-padding-right">来源实例</label>
                    <select ng-model="newTask.srcDbName" ng-options="item.name as item.name for item in dbs">
                    </select>
                </div>
                <div class="col-sm-2">
                    <input type="text" ng-model="newTask.dataBase" placeholder="来源库" class="form-control input-medium">
                </div>
                <div class="col-sm-2">
                    <input type="text" ng-model="newTask.tableName" placeholder="来源表" class="form-control input-medium">
                </div>

            </div>
            <div class="form-group" ng-repeat="target in newTask.targets">
                <div class="col-sm-1">
                    <button ng-click="removeTarget()" class="btn btn-sm btn-danger">
                        删除目标
                    </button>
                </div>
                <div class="col-sm-3">
                    <label class="control-label no-padding-right">目标实例</label>
                    <select ng-model="target.dstDbName" ng-options="item.name as item.name for item in dbs">
                    </select>
                </div>
                <div class="col-sm-2">
                    <input type="text" ng-model="target.targetDataBase" placeholder="目标库" class="form-control input-medium">
                </div>
                <div class="col-sm-2">
                    <input type="text" ng-model="target.targetTableName" placeholder="目标表" class="form-control input-medium">
                </div>
                <div class="col-sm-4">
                    <input type="text" ng-model="target.shardRule" placeholder="规则" class="form-control input-large">
                </div>
            </div>
            <div style="text-alias: center">
                    <button ng-click="commitTask()" class="btn btn-sm btn-success">
                        提交任务
                    </button>
            </div>
        </form>
    </div>
</div>