<div class="page-header">
	<div class="row">
		<div class="col-xs-12">
	    	 <form class="form-inline" role="form">
		        <label class="label label-lg label-primary arrowed-right">选择规则</label>
		        <select class="form-control input-sm" ng-model="shardRule" ng-options="rule for rule in shardRules"></select>
		    </form>
		   	<label class="label label-lg label-primary arrowed-right">输入SQL语句</label>
		    <textarea class="form-control" placeholder="SQL"  ng-model="shardSql"></textarea>
		    <button type="submit" class="btn btn-sm btn-primary" ng-click="analyze()">执行</button>
	    </div>
	</div>
</div>
<div class="row">
    <!-- 分析结果 -->
    <textarea class="form-control" rows="5"  ng-hide="data.isSuccess">{{data.errorMsg}}</textarea>
   	<table class="table table-striped table-condensed">
   		<thead>
   			<tr>
   				<th>维度</th>
   				<th>需要执行的SQL数</th>
   				<th>是否跨表</th>
   				<th>是否全表操作</th>
   			</tr>
   		</thead>
   		<tbody>
   			<tr>
   				<td>{{data.pk}}</td>
   				<td>{{data.targetSQLCount}}</td>
   				<td>{{data.isCrossDb}}</td>
   				<td>{{data.isFullTableScan}}</td>
   			</tr>
   		</tbody>
   	</table>
   	
   	<table class="table table-striped table-condensed">
   		<thead>
   			<tr>
   				<th>目标库</th>
   				<th>目标表</th>
   				<th>SQL</th>
   				<th>操作</th>
   			</tr>
   		</thead>
   		<tbody>
   			<tr ng-repeat="routerItem in data.routerItems | toArray">
				<td>{{routerItem.targetJdbcRef}}</td>
				<td>{{routerItem.targetTable}}</td>
				<td>{{routerItem.targetSql}}</td>
				<td>执行</td>
   			</tr>
   		</tbody>
   	</table>
   	
   	<table class="table table-striped table-condensed">
   		<tbody>
   			<tr ng-repeat="dataRow in data.dataRows">
   				<td ng-repeat="column in dataRow.datas track by $index">
   					{{column}}
   				</td>
   			</tr>
   		</tbody>
   	</table>
</div>